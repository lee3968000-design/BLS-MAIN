<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì‹œê°„ ë§ˆë”ë³´ë“œ</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        /* ì „ê´‘íŒ ëŠë‚Œì˜ ë””ìì¸ */
        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: #1e272e; /* ì–´ë‘ìš´ ë°°ê²½ */
            color: #ffffff;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            min-height: 100vh; 
            margin: 0; 
            padding: 20px; 
            box-sizing: border-box; 
            overflow: hidden; /* ìŠ¤í¬ë¡¤ ë°©ì§€ (í•„ìš”ì‹œ ì œê±°) */
        }

        .home-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 10px 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            transition: 0.3s;
        }
        .home-btn:hover { background: rgba(255, 255, 255, 0.3); }

        /* ë§ˆë”ë³´ë“œ (í…ìŠ¤íŠ¸ í‘œì‹œ ì˜ì—­) */
        .motherboard {
            width: 100%;
            max-width: 1200px;
            height: 70vh; /* í™”ë©´ ë†’ì´ì˜ 70% */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 5rem; /* ì•„ì£¼ í° ê¸€ì”¨ */
            font-weight: bold;
            line-height: 1.3;
            word-break: keep-all; /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ */
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5); /* ë„¤ì˜¨ íš¨ê³¼ */
        }

        /* ëª¨ë°”ì¼ì—ì„œëŠ” ê¸€ì”¨ í¬ê¸° ìë™ ì¡°ì ˆ */
        @media (max-width: 768px) {
            .motherboard { font-size: 3rem; }
        }

        /* ìˆ˜ì • ë²„íŠ¼ (ì˜¤ë¥¸ìª½ ì•„ë˜ ìˆ¨ê¹€) */
        .edit-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: transparent;
            color: #555;
            border: none;
            cursor: pointer;
            font-size: 20px;
        }
        .edit-btn:hover { color: white; }

    </style>
</head>
<body>

    <a href="index.html" class="home-btn">ğŸ  ë©”ì¸ìœ¼ë¡œ</a>

    <div id="display-board" class="motherboard">
        ë¡œë”© ì¤‘...
    </div>

    <button class="edit-btn" onclick="editContent()">âš™ï¸</button>

<script>
    // Firebase Config
    const firebaseConfig = {
        apiKey: "AIzaSyDP7WJoqi9hWXO27KaeY9Lvitj-5-E0j5Y",
        authDomain: "bsar5-d7818.firebaseapp.com",
        databaseURL: "https://bsar5-d7818-default-rtdb.firebaseio.com",
        projectId: "bsar5-d7818",
        storageBucket: "bsar5-d7818.firebasestorage.app",
        messagingSenderId: "377629207721",
        appId: "1:377629207721:web:8b893496c0ac1749890db8",
        measurementId: "G-M9FJXYTS3F"
    };

    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // 1. ë°ì´í„° ì‹¤ì‹œê°„ ê°ì§€ (Read)
    // DBì˜ 'global_message'ë¼ëŠ” ë°©ì„ ê³„ì† ì³ë‹¤ë³´ê³  ìˆìŠµë‹ˆë‹¤.
    db.ref('global_message').on('value', (snapshot) => {
        const text = snapshot.val();
        const board = document.getElementById('display-board');
        
        if (text) {
            // ì¤„ë°”ê¿ˆ ë¬¸ì(\n)ë¥¼ HTML íƒœê·¸(<br>)ë¡œ ë³€í™˜
            board.innerHTML = text.replace(/\n/g, '<br>');
        } else {
            board.innerText = "ê³µì§€ ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.";
        }
    });

    // 2. ìˆ˜ì • ê¸°ëŠ¥ (Write)
    function editContent() {
        const password = prompt("ê´€ë¦¬ì ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
        
        if (password === "3968") {
            const newText = prompt("ë§ˆë”ë³´ë“œì— ë„ìš¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” (ì´ëª¨ì§€ ê°€ëŠ¥):");
            if (newText !== null) { // ì·¨ì†Œ ì•ˆ ëˆŒë €ìœ¼ë©´ ì €ì¥
                db.ref('global_message').set(newText);
                alert("ì—…ë°ì´íŠ¸ ì™„ë£Œ!");
            }
        } else {
            if(password !== null) alert("ì•”í˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
        }
    }
</script>

</body>
</html>